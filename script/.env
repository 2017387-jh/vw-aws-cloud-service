# Copy .env
# ===== commons =====
AWS_REGION=ap-northeast-2
ACCOUNT_ID=420509932186

# ===== S3 =====
DDN_IN_BUCKET=ddn-in-bucket
DDN_OUT_BUCKET=ddn-out-bucket

# ===== ECR / Image =====
DDN_ECR_REPO=deepdenoising-triton
DDN_ECR_TAG=1.0
DDN_ECR_IMG_TAR=deepdenoising.triton.tar
DDN_LOCAL_IMG=deepdenoising/triton
DDN_IMAGE_URI="420509932186.dkr.ecr.ap-northeast-2.amazonaws.com/deepdenoising-triton:latest"

DDN_REGISTRY="${ACCOUNT_ID}.dkr.ecr.${AWS_REGION}.amazonaws.com"
DDN_IMAGE_URI_TAG="${DDN_REGISTRY}/${DDN_ECR_REPO}:${DDN_ECR_TAG}"
DDN_IMAGE_URI_LATEST="${DDN_REGISTRY}/${DDN_ECR_REPO}:latest"

# ===== ECS =====
DDN_ECS_CLUSTER=ddn-ecs-cluster
DDN_ECS_SERVICE=ddn-ecs-service
DDN_ECS_TASK_FAMILY=ddn-triton-task
DDN_ECS_TASK_DEF=ddn-triton-taskdef
DDN_ECS_CONTAINER=ddn-triton-container
DDN_ECS_DESIRED_COUNT=1

# Network Settings
# DDN_VPC_ID=vpc-xxxxxxxx
# DDN_SUBNET_IDS=subnet-aaa,subnet-bbb
# DDN_SECURITY_GROUP=sg-xxxxxxxx
DDN_ECS_SG_NAME=ddn-ecs-sg
DDN_ALB_SG_NAME=ddn-alb-sg

# Port Mapping
DDN_FLASK_PORT=8080          # Flask 서버 포트
DDN_TRITON_HTTP_PORT=5800    # Triton HTTP
DDN_TRITON_GRPC_PORT=5801    # Triton gRPC
DDN_HOST_PORT=0              # 동적 할당 (고정 필요하면 숫자)

# ALB
DDN_ALB_NAME=ddn-alb
DDN_TG_FLASK=ddn-tg-flask
DDN_TG_TRITON=ddn-tg-triton
DDN_HEALTH_PATH=/healthz            # Flask 헬스 엔드포인트
DDN_HEALTH_INTERVAL=15
DDN_HEALTH_TIMEOUT=5
DDN_HEALTH_UNHEALTHY=3
DDN_HEALTH_HEALTHY=2

# ===== SageMaker =====
DDN_MODEL_NAME=deepdenoising-model
DDN_ENDPOINT_CONFIG=deepdenoising-config
DDN_ASYNC_S3_OUTPUT=s3://ddn-out-bucket/user/
DDN_ASYNC_S3_INPUT=s3://ddn-in-bucket/user/
DDN_SM_ENDPOINT=deepdenoising-sm-async-endpoint
DDN_SNS_TOPIC_NAME=deepdenoising-async-complete
DDN_EXEC_ROLE_ARN=arn:aws:iam::420509932186:role/AmazonSageMaker-ExecutionRole

DDN_MAX_CONCURRENCY=2         
DDN_INVOCATION_TIMEOUT=3600   